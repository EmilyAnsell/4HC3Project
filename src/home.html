<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

   <title>Pizza4U</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.5.0/css/all.css' integrity='sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU' crossorigin='anonymous'>



  <style>
    [class*="col-"] 
    {
      margin-bottom: 3.5%;
      margin-top: 3.5%;
    }
  </style>
  </head>
  <body>

    <nav class="navbar sticky-top navbar-dark bg-dark">
    <a class="navbar-brand" href="home.html"><img src="../images/Pizza4u-W.png" height="60%" width="30%"> </a>
    <a class="navbar-brand" href="signature.html"> Signiture Pizza </a>
    <a class="navbar-brand" href="#"> Specials </a>
    <a class="navbar-brand" href="sides.html"> Sides </a>
    <a class="navbar-brand" href="#"> <i style='font-size:24px' class='fas'> &#xf07a;   </i> </a>
    </nav>

  	<div class="container text-center">
  		<div class="row">
  			<div class="col-md-12 bg-light">
  				<a class="btn btn-primary btn-lg btn-block" href="customise.html" role="button">Create a pizza</a>
  			</div>
  		</div>

  		<div class="row">
  			<div class="col-md-12 bg-dark text-light">
  				<h2>Specials</h2>
  				<div class="row">
            <div class="col-md-1 bg-dark"></div>
  					<div class="col-md-4 bg-dark">
  						<div class="dropdown">
                <button class="btn btn-light btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <h4>3 Cheese Pizzas Special: $15</h4><br>
                  <img src="../images/pizza/3pizza.jpg" class="img-fluid rounded mx-auto d-block">
                </button>
                <div class="dropdown-menu bg-light" aria-labelledby="dropdownMenuButton">
                  <p class="dropdown-item text-center">Add to cart?</p>
                  <button class="btn btn-success dropdown-item" onclick="threePizzaYes()">Yes</button>
                  <button class="btn btn-danger dropdown-item">No</button>
                </div>
              </div>
  					</div>
  					<div class="col-md-2 bg-dark"></div>
  					<div class="col-md-4 bg-dark">
  						<div class="dropdown">
                <button class="btn btn-light btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <h4>Deluxe Pizza Special: $12</h4><br>
                  <img src="../images/pizza/deluxe.jpg" class="img-fluid rounded mx-auto d-block">
                </button>
                <div class="dropdown-menu bg-light" aria-labelledby="dropdownMenuButton">
                  <p class="dropdown-item text-center">Add to cart?</p>
                  <button class="btn btn-success dropdown-item" onclick="deluxeYes()">Yes</button>
                  <button class="btn btn-danger dropdown-item">No</button>
                </div>
              </div>
  					</div>
            <div class="col-md-1 bg-dark"></div>
  				</div>
          <div class="row">
            <div class="col-md-1 bg-dark"></div>
            <div class="col-md-4 bg-dark">
              <div class="dropdown">
                <button class="btn btn-light btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <h4>Mini Pizza Speical: $8</h4><br>
                  <img src="../images/pizza/mini.jpg" class="img-fluid rounded mx-auto d-block">
                </button>
                <div class="dropdown-menu bg-light" aria-labelledby="dropdownMenuButton">
                  <p class="dropdown-item text-center">Add to cart?</p>
                  <button class="btn btn-success dropdown-item" onclick="miniYes()">Yes</button>
                  <button class="btn btn-danger dropdown-item">No</button>
                </div>
              </div>
            </div>
            <div class="col-md-2 bg-dark"></div>
            <div class="col-md-4 bg-dark">
              <div class="dropdown">
                <button class="btn btn-light btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <h4>Pizza Slice Speical: $5</h4><br>
                  <img src="../images/pizza/slice.jpg" class="img-fluid rounded mx-auto d-block">
                </button>
                <div class="dropdown-menu bg-light" aria-labelledby="dropdownMenuButton">
                  <p class="dropdown-item text-center">Add to cart?</p>
                  <button class="btn btn-success dropdown-item" onclick="sliceYes()">Yes</button>
                  <button class="btn btn-danger dropdown-item">No</button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-1 bg-dark"></div>
  			</div>
  		</div>

  		<div class="row">
  			<div class="col-md-5">
  				<h2>Sides and Drinks</h2>
  				<div class="row">
            <div class="col-md-12">
              <a class="btn btn-primary btn-lg btn-block" href="sides.html" role="button">Sides</a>
            </div>
          </div>
  			</div>
  			<div class="col-md-2"></div>
  			<div class="col-md-5">
  				<h2>Signatures</h2>
  				<div class="row">
  					<div class="col-md-12">
  						<a class="btn btn-primary btn-lg btn-block" href="#" role="button">Signatures</a>
  					</div>
  				</div>
  			</div>
  		</div>
  	</div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>

    <script>
      function threePizzaYes(func)
      {
        var size = "n";
        var dough = "white";
        var sauce = "marinara";
        var cheese = [{name: "chedder", side: "both"}];
        var toppings = [{name: "Pepperoni", side: "both"}];
        var price = 8;

        sendPizzaData(size, dough, sauce, cheese, toppings, price);
      }

      function deluxeYes(func)
      {
        var size = "n";
        var dough = "white";
        var sauce = "marinara";
        var cheese = [{name: "chedder", side: "both"}];
        var toppings = [{name: "Pepperoni", side: "both"}];
        var price = 8;

        sendPizzaData(size, dough, sauce, cheese, toppings, price);
      }

      function miniYes(func)
      {
        var size = "n";
        var dough = "white";
        var sauce = "marinara";
        var cheese = [{name: "chedder", side: "left"}, {name: "parmigiano", side: "right"}];
        var toppings = [{name: "Pepperoni", side: "both"}];
        var price = 8;

        sendPizzaData(size, dough, sauce, cheese, toppings, price);
      }

      function sliceYes(func)
      {
        var size = "n";
        var dough = "white";
        var sauce = "marinara";
        var cheese = [{name: "chedder", side: "both"}];
        var toppings = [{name: "Pepperoni", side: "both"}];
        var price = 8;

        sendPizzaData(size, dough, sauce, cheese, toppings, price);
      }

      function sendPizzaData(size, dough, sauce, cheese, toppings, price)
      {
        var xmlhttp;
        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
          xmlhttp=new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
          xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange=function()
        {
          if (xmlhttp.readyState==4 && xmlhttp.status==200)
          {
            alert('Item successfully added to cart');
          }
        }

        var toppingsString = "";
        var cheeseString = "";

        for (var i = 0; i < toppings.length - 1; i++)
        {
          toppingsString += toppings[i].name + "-" + toppings[i].side + ",";
        }
        toppingsString += toppings[i].name + "-" + toppings[i].side;

        for (var i = 0; i < cheese.length - 1; i++)
        {
          cheeseString += cheese[i].name + "-" + cheese[i].side + ",";
        }
        cheeseString += cheese[i].name + "-" + cheese[i].side;

        alert("size=" + size + "&dough=" + dough + "&sauce=" + sauce + "&cheese=" + cheeseString + "&toppings=" + toppingsString + "&price=" + price);

        xmlhttp.open("POST","http://localhost:3000/pizza/add",true);
        xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        xmlhttp.send("size=" + size + "&dough=" + dough + "&sauce=" + sauce + "&cheese=" + cheeseString + "&toppings=" + toppingsString + "&price=" + price);
      }
    </script>
  </body>
</html>